{"version":3,"sources":["components/Auth.js","pages/User/Login.js","components/Protect.js","components/Sidebar.js","pages/User/UserFilter.js","pages/User/UserTable.js","pages/User/User.js","pages/User/CreatedUser.js","pages/User/UserDetail.js","pages/User/UpdatedUser.js","pages/User/ForgotPassword.js","pages/User/ResetPassword.js","pages/Setting/Setting.js","pages/Chat/UserChat.js","pages/Chat/AdminChat.js","pages/index.js","pages/404.js","pages/500.js","App.js","reportWebVitals.js","index.js"],"names":["authContext","createContext","ProvideAuth","children","auth","socketDomain","process","apiDomain","signin","payload","cb_success","cb_error","axios","post","email","password","then","res","localStorage","setItem","data","token","JSON","stringify","user","catch","error","signup","formData","config","signout","getItem","sendPasswordResetEmail","confirmPasswordReset","put","remove","id","delete","headers","update","parse","_id","paginate","filter","get","detail","socket","io","transports","allowUpgrades","reconnect","secure","rejectUnauthorized","index","chat","createdChat","handleError","history","response","status","removeItem","replace","message","Array","isArray","msg","notification","useProvideAuth","Provider","value","useAuth","useContext","Login","useHistory","location","useLocation","Form","useForm","form","setFieldsValue","name","className","initialValues","remember","onFinish","values","from","state","pathname","Item","rules","required","prefix","UserOutlined","placeholder","Password","LockOutlined","type","valuePropName","noStyle","to","htmlType","PrivateRoute","rest","userId","emit","render","Header","Layout","Sider","Content","SideBar","useState","collapsed","setCollapsed","iconCollap","setIconCollap","items","key","label","path","icon","TeamOutlined","SettingOutlined","MessageOutlined","find","_item","startsWith","avatar","toggle","menu","style","width","theme","Divider","onClick","confirmation","trigger","collapsible","breakpoint","onBreakpoint","broken","mode","selectedKeys","item","clicked","push","map","padding","MenuUnfoldOutlined","MenuFoldOutlined","overlay","placement","e","preventDefault","src","backgroundColor","cursor","DownOutlined","UserFilter","props","dateFormat","setName","setEmail","address","setAddress","phone","setPhone","createdAt","setCreatedAt","query","URLSearchParams","param","useEffect","has","moment","onChangeInput","target","pushQueryStringToUrl","result","toString","search","onFilterUser","onPressEnterInput","trim","set","xs","span","lg","onChange","onPressEnter","format","date","SearchOutlined","createdAtFormat","UserTable","setStatus","users","page","pageSize","total","loading","removeUser","on","columns","title","dataIndex","responsive","text","record","sorter","a","b","username","localeCompare","includes","height","background","borderRadius","age","unix","size","EditOutlined","onConfirm","DeleteOutlined","paddingLeft","paddingRight","dataSource","rowKey","pagination","current","showSizeChanger","User","setLoading","setUsers","setTotal","setPage","setPageSize","window","setParam","listenToPopstate","addEventListener","removeEventListener","page_size","res_remove","error_remove","CreatedUser","onRemove","beforeUpload","file","reader","FileReader","readAsDataURL","onload","url","listType","maxCount","formItemLayout","labelCol","wrapperCol","formItemLayoutWithOutLabel","sm","offset","textAlign","margin","gender","birthday","hobbies","FormData","append","length","forEach","getValueFromEvent","UploadOutlined","initialValue","Group","options","min","max","List","fields","add","errors","PlusOutlined","field","MinusCircleOutlined","resetFields","UserDetail","setUser","setAvatar","useParams","column","bordered","tag","color","toUpperCase","UpdatedUser","undefined","uid","getFieldsValue","File","ForgotPassword","getFieldValue","MailOutlined","ResetPassword","decodeToken","jwt_decode","fontSize","fontWeight","letterSpacing","validator","_","Promise","reject","Error","resolve","Setting","action","info","setTimeout","reload","fileList","backend","frontend","UserChat","TabPane","Tabs","admin","role","messageList","setMessageList","isOpen","setIsOpen","senderId","receiverId","messageListCopy","message_type","author","fileName","chats","i","sender","onMessageWasSent","newMessage","receiver","emoji","defaultActiveKey","tab","agentProfile","teamName","imageUrl","handleClick","onFilesSelected","mute","header","renderItem","marginTop","AdminChat","setReceiverId","itemLayout","actions","onClickUserToChat","Meta","description","Boolean","Index","userLogin","isLoading","setIsLoading","Page404","subTitle","extra","Page500","App","exact","top","duration","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","document","getElementById"],"mappings":"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","file":"static/js/main.20dca6dc.chunk.js","sourcesContent":["import React, {useContext, createContext} from 'react'\nimport axios from 'axios'\nimport {io} from 'socket.io-client'\nimport {notification} from 'antd'\n\nconst authContext = createContext()\n\nexport function ProvideAuth({ children }) {\n  const auth = useProvideAuth()\n  return (\n    <authContext.Provider value={auth}>\n      {children}\n    </authContext.Provider>\n  )\n}\n\nexport const useAuth = () => {\n  return useContext(authContext)\n}\n\nfunction useProvideAuth() {\n  const socketDomain = process.env.REACT_APP_SOCKET\n  const apiDomain = process.env.REACT_APP_API\n\n  const socket = io(socketDomain, {\n      transports: ['websocket'],  // https://stackoverflow.com/a/52180905/8987128\n      allowUpgrades: false,\n      reconnect: false,\n      secure: true,\n      rejectUnauthorized: false\n  })\n\n  const handleError = (error, history) => {\n    if(error.response.status === 401){\n      localStorage.removeItem('token')\n      history.replace('/login')\n    }else if(error.response.status === 404){\n      history.replace('/404')\n    }else if(error.response.status === 500){\n      history.replace('/500')\n    }else if(error.response.status === 400 || error.response.status === 403){\n      let message = ''\n      if(Array.isArray(error.response.data.message)){\n        message = error.response.data.message[0].msg\n      }else{\n        message = error.response.data.message\n      }\n      notification['error']({\n        message: message\n      })\n    }\n  }\n\n  const signin = (payload, cb_success = null, cb_error = null) => {\n    axios.post(\n      `${apiDomain}/api/user/login`, {\n        email: payload.email,\n        password: payload.password\n      }\n    ).then(res => {\n      localStorage.setItem('token', res.data.token)\n      localStorage.setItem('user', JSON.stringify(res.data.user))\n      if(typeof(cb_success) == 'function'){\n        cb_success(res)\n      }\n    }).catch(error => {\n      if(typeof(cb_error) == 'function'){\n        cb_error(error)\n      }\n    })\n  }\n\n  // signup user\n  const signup = (formData, cb_success = null, cb_error = null) => {\n    const config = {\n      'headers': {\n        'content-type': 'multipart/form-data'\n      }\n    }\n    axios.post(\n      `${apiDomain}/api/user`, formData, config\n    ).then(res => {\n      if(typeof(cb_success) == 'function'){\n        cb_success(res)\n      }\n    }).catch(error => {\n      if(typeof(cb_error) == 'function'){\n        cb_error(error)\n      }\n    })\n  }\n\n  // updated user\n  const update = (id, formData, cb_success = null, cb_error = null) => {\n    const config = {\n      'headers': {\n        'content-type': 'multipart/form-data',\n        'Authorization': `Bearer ${localStorage.getItem('token')}`\n      }\n    }\n    axios.put(\n      `${apiDomain}/api/user/${id}`, formData, config\n    ).then(res => {\n      if(typeof(cb_success) == 'function'){\n        if(JSON.parse(localStorage.getItem('user'))._id  === id){\n          localStorage.setItem('user', JSON.stringify(res.data.user))\n        }\n        cb_success(res)\n      }\n    }).catch(error => {\n      if(typeof(cb_error) == 'function'){\n        cb_error(error)\n      }\n    })\n  }\n\n  // remove user\n  const remove = (id, cb_success = null, cb_error = null) => {\n    axios.delete(\n      `${apiDomain}/api/user/${id}`, {\n        headers: {\n          'Authorization': `Bearer ${localStorage.getItem('token')}`\n        }\n      }\n    ).then(res => {\n      if(typeof(cb_success) == 'function'){\n        cb_success(res)\n      }\n    }).catch(error => {\n      if(typeof(cb_error) == 'function'){\n        cb_error(error)\n      }\n    })\n  }\n\n  // detail user\n  const detail = (id, cb_success = null, cb_error = null) => {\n    axios.get(\n      `${apiDomain}/api/user/${id}`, {\n        headers: {\n          'Authorization': `Bearer ${localStorage.getItem('token')}`\n        }\n      }\n    ).then(res => {\n      if(typeof(cb_success) == 'function'){\n        cb_success(res)\n      }\n    }).catch(error => {\n      if(typeof(cb_error) == 'function'){\n        cb_error(error)\n      }\n    })\n  }\n\n  // user paginate\n  const paginate = (filter = '', cb_success = null, cb_error = null) => {\n    axios.get(\n      `${apiDomain}/api/user/${filter}`, {\n        headers: {\n          'Authorization': `Bearer ${localStorage.getItem('token')}`\n        }\n      }\n    ).then(res => {\n      if(typeof(cb_success) == 'function'){\n        cb_success(res)\n      }\n    }).catch(error => {\n      if(typeof(cb_error) == 'function'){\n        cb_error(error)\n      }\n    })\n  }\n\n  // get all users\n  const index = (filter = '', cb_success = null, cb_error = null) => {\n    axios.get(\n      `${apiDomain}/api/user/all/${filter}`, {\n        headers: {\n          'Authorization': `Bearer ${localStorage.getItem('token')}`\n        }\n      }\n    ).then(res => {\n      if(typeof(cb_success) == 'function'){\n        cb_success(res)\n      }\n    }).catch(error => {\n      if(typeof(cb_error) == 'function'){\n        cb_error(error)\n      }\n    })\n  }\n\n  const signout = (cb_success = null, cb_error = null) => {\n    const config = {\n      'headers': {\n        'Authorization': `Bearer ${localStorage.getItem('token')}`\n      }\n    }\n    axios.post(\n      `${apiDomain}/api/user/logout`, {} ,config\n    ).then(res => {\n      if(typeof(cb_success) == 'function'){\n        cb_success(res)\n      }\n    }).catch(error => {\n      if(typeof(cb_error) == 'function'){\n        cb_error(error)\n      }\n    })\n  }\n\n  const sendPasswordResetEmail = (email, cb_success = null, cb_error = null) => {\n    axios.post(\n      `${apiDomain}/api/user/reset-password`, {email}\n    ).then(res => {\n      if(typeof(cb_success) == 'function'){\n        cb_success(res)\n      }\n    }).catch(error => {\n      if(typeof(cb_error) == 'function'){\n        cb_error(error)\n      }\n    })\n  }\n\n  const confirmPasswordReset = (token, password, cb_success = null, cb_error = null) => {\n    axios.put(\n      `${apiDomain}/api/user/reset-password/${token}`, {password}\n    ).then(res => {\n      if(typeof(cb_success) == 'function'){\n        cb_success(res)\n      }\n    }).catch(error => {\n      if(typeof(cb_error) == 'function'){\n        cb_error(error)\n      }\n    })\n  }\n\n  const chat = (filter = '', cb_success = null, cb_error = null) => {\n    axios.get(\n      `${apiDomain}/api/chat/${filter}`, {\n        headers: {\n          'Authorization': `Bearer ${localStorage.getItem('token')}`\n        }\n      }\n    ).then(res => {\n      if(typeof(cb_success) == 'function'){\n        cb_success(res)\n      }\n    }).catch(error => {\n      if(typeof(cb_error) == 'function'){\n        cb_error(error)\n      }\n    })\n  }\n  \n  const createdChat = (formData, cb_success = null, cb_error = null) => {\n    const config = {\n      'headers': {\n        'content-type': 'multipart/form-data',\n        'Authorization': `Bearer ${localStorage.getItem('token')}`\n      }\n    }\n    axios.post(\n      `${apiDomain}/api/chat`, formData, config\n    ).then(res => {\n      if(typeof(cb_success) == 'function'){\n        cb_success(res)\n      }\n    }).catch(error => {\n      if(typeof(cb_error) == 'function'){\n        cb_error(error)\n      }\n    })\n  }\n  \n  \n  // Return the user object and auth methods\n  return {\n    signin,\n    signup,\n    signout,\n    sendPasswordResetEmail,\n    confirmPasswordReset,\n    remove,\n    update,\n    paginate,\n    detail,\n    socket,\n    index,\n    chat,\n    createdChat,\n    handleError\n  }\n}","import {Form, Input, Button, Checkbox, notification} from 'antd'\nimport {useAuth} from '../.././components/Auth'\nimport {Link, useHistory, useLocation} from 'react-router-dom'\nimport {UserOutlined, LockOutlined} from '@ant-design/icons'\n\nexport function Login() {\n  const auth = useAuth()\n  let history = useHistory()\n  let location = useLocation()\n  const [form] = Form.useForm()\n  const email = localStorage.getItem('email')\n  if(email){\n    form.setFieldsValue({email})\n  }\n\n  const handleSubmit = (values) => {\n    let { from } = location.state || { from: { pathname: '/' } }\n    auth.signin(values, (res) => {\n      notification['success']({\n        message: res.data.message\n      })\n      if(values.remember){\n        localStorage.setItem('email', values.email)\n      }else{\n        localStorage.removeItem('email')\n      }\n      history.replace(from)\n    }, (error) => {\n      auth.handleError(error, history)\n    })\n  }\n\n  return (\n    <Form\n      form={form}\n      name='normal_login'\n      className='login-form'\n      initialValues={{ remember: true }}\n      onFinish={handleSubmit}\n    >\n      <Form.Item\n        name='email'\n        rules={[{required: true, message: 'Please input your email!'}]}\n      >\n        <Input prefix={<UserOutlined className='site-form-item-icon'/>} placeholder='Email' />\n      </Form.Item>\n      <Form.Item\n        name='password'\n        rules={[{required: true, message: 'Please input your Password!'}]}\n      >\n        <Input.Password\n          prefix={<LockOutlined className='site-form-item-icon'/>}\n          type='password'\n          placeholder='Password'\n        />\n      </Form.Item>\n      <Form.Item>\n        <Form.Item name='remember' valuePropName='checked' noStyle>\n          <Checkbox>Remember me</Checkbox>\n        </Form.Item>\n\n        <Link className='login-form-forgot' to={'/forgot-password'}>\n          Forgot password\n        </Link>\n      </Form.Item>\n\n      <Form.Item>\n        <Button type='primary' htmlType='submit' className='login-form-button'>\n          Log in\n        </Button>\n        Or <Link to={'/signup'}>register now!</Link>\n      </Form.Item>\n    </Form>\n  )\n}","import {Route, Redirect} from 'react-router-dom'\nimport {useAuth} from './Auth'\n  \nexport function PrivateRoute({children, ...rest}) {\n  const auth = useAuth()\n  const token = localStorage.getItem('token')\n  if(token){\n    const userId = localStorage.getItem('user') ? JSON.parse(localStorage.getItem('user'))._id : ''\n    if(userId){\n      auth.socket.emit('login', userId)\n    } \n  }\n  return (\n    <Route\n      {...rest}\n      render={({location}) =>\n      token ? (\n          children\n        ) : (\n          <Redirect\n            to={{\n              pathname: '/login',\n              state: {from: location}\n            }}\n          />\n        )\n      }\n    />\n  )\n}\n    ","import '../css/Sidebar.css'\nimport {Layout, Menu, Avatar, Dropdown, notification} from 'antd'\nimport {MenuUnfoldOutlined, MenuFoldOutlined, MessageOutlined, DownOutlined, TeamOutlined, SettingOutlined} from '@ant-design/icons'\nimport {Link, useHistory, useLocation} from 'react-router-dom'\nimport {useAuth} from './Auth'\nimport {useState} from 'react'\n\nconst {Header, Sider, Content} = Layout\n\nexport function SideBar({children}){\n  const auth = useAuth()\n  const apiDomain = process.env.REACT_APP_API\n  const history = useHistory()\n  const location = useLocation()\n  const [collapsed, setCollapsed] = useState(false)\n  const [iconCollap, setIconCollap] = useState(false)\n  const items = [\n    {key: '1', label: 'Users', path: '/user', icon: <TeamOutlined/>},\n    {key: '3', label: 'Setting', path: '/setting', icon: <SettingOutlined/>},\n    {key: '2', label: 'Chat', path: '/', icon: <MessageOutlined/>}\n  ]\n  const [key] = useState(items.find(_item => location.pathname.startsWith(_item.path)).key)\n  const user = JSON.parse(localStorage.getItem('user'))\n  const avatar = `${apiDomain}/images/${user.avatar}`\n\n  const toggle = () => {\n    setCollapsed(!collapsed)\n  }\n\n  const logout = () => {\n    auth.signout((res) => {\n      notification['success']({\n        message: res.data.message\n      })\n      auth.socket.emit('logout', user._id, (confirmation) => {\n        if(confirmation){\n          history.replace('/login')\n          localStorage.removeItem('token')\n          localStorage.removeItem('user')\n        }\n      })\n    })\n  }\n\n  const menu = (\n    <Menu\n      style={{width: 200}}\n      theme={'light'}\n    >\n      <Menu.Item key=\"1\">\n        <Link to={`/user/profile/${user._id}`}>Detail Profile</Link>\n      </Menu.Item>\n      <Menu.Divider />\n      <Menu.Item key=\"2\" onClick={logout}>Log out</Menu.Item>\n    </Menu>\n  )\n\n  const onClickMenu = (item) => {\n    const clicked = items.find(_item => _item.key === item.key)\n    history.push(clicked.path)\n  }\n\n  const onBreakpoint = (broken) => {\n    setCollapsed(broken)\n    setIconCollap(broken)\n  }\n\n  return (\n    <Layout>\n      <Sider trigger={null} collapsible collapsed={collapsed} breakpoint='xs'onBreakpoint={onBreakpoint}>\n        <div className=\"logo\" />\n        <Menu theme=\"dark\" mode=\"inline\" selectedKeys={[key]} onClick={onClickMenu}>\n          {items.map((item) => (\n            <Menu.Item key={item.key} icon={item.icon}>{item.label}</Menu.Item>\n          ))}\n        </Menu>\n      </Sider>\n      <Layout className=\"site-layout\">\n        <Header className=\"site-layout-background\" style={{ padding: 0 }}>\n          {!iconCollap ? (collapsed ? <MenuUnfoldOutlined className=\"trigger\" onClick={toggle}/> : <MenuFoldOutlined className=\"trigger\" onClick={toggle}/>) : <></>}\n          <Dropdown className='dropdown-header' overlay={menu} trigger={['click']} placement='topLeft'>\n            <Link to=\"/#\" className=\"ant-dropdown-link\" onClick={e => e.preventDefault()}>\n              <Avatar src={avatar} style={{ backgroundColor: '#87d068', cursor: 'pointer'}}/> <DownOutlined />\n            </Link>\n          </Dropdown>\n        </Header>\n        <Content\n          className=\"site-layout-background\"\n        >\n          {children}\n        </Content>\n      </Layout>\n    </Layout>\n  )\n}","import {Input, Button, DatePicker, Col, Row} from 'antd'\nimport {useState, useEffect} from 'react'\nimport {useHistory} from 'react-router-dom'\nimport {SearchOutlined} from '@ant-design/icons'\nimport moment from 'moment'\n\nexport function UserFilter(props){\n    const history = useHistory()\n    const dateFormat = 'DD-MM-YYYY'\n    const [name, setName] = useState('')\n    const [email, setEmail] = useState('')\n    const [address, setAddress] = useState('')\n    const [phone, setPhone] = useState('')\n    const [createdAt, setCreatedAt] = useState('')\n    const query = new URLSearchParams(props.param)\n    // set value for filter if url has query param\n    useEffect(() => {\n        // create a new instance of URLSearchParams to ignore useEffrect warning\n        const query = new URLSearchParams(props.param) \n        if(query.has('username')){\n            setName(query.get('username'))\n        }else{\n            setName('')\n        }\n        if(query.has('email')){\n            setEmail(query.get('email'))\n        }else{\n            setEmail('')\n        }\n        if(query.has('address')){\n            setAddress(query.get('address'))\n        }else{\n            setAddress('')\n        }\n        if(query.has('phone')){\n            setPhone(query.get('phone'))\n        }else{\n            setPhone('')\n        }\n        if(query.has('created_at')){\n            const createdAt = query.get('created_at')\n            if(createdAt){\n                setCreatedAt(moment(query.get('created_at'), dateFormat))\n            }else{\n                setCreatedAt('')\n            }    \n        }else{\n            setCreatedAt('')\n        }\n      }, [props.param])\n    \n    // set state for input value\n    const onChangeInput = (e, type) => {\n        if(type === 'name'){\n            setName(e.target.value)\n        }\n        if(type === 'email'){\n            setEmail(e.target.value)\n        }\n        if(type === 'address'){\n            setAddress(e.target.value)\n        }\n        if(type === 'phone'){\n            setPhone(e.target.value)\n        }\n    }\n\n    const onChangeCreatedAt = (date) => {\n        setCreatedAt(date)\n    }\n\n    // push query params to url and set state of parent's params\n    const pushQueryStringToUrl = (query) => {\n        const result = '?' + query.toString()\n        history.push({\n            pathname: '/user',\n            search: result\n        })\n        props.onFilterUser(result)\n    }\n\n    // handle filter when press enter input\n    const onPressEnterInput = (e, type) => {\n        if(name.trim() && type === 'name'){\n            query.set('username', name.trim())\n        }else{\n            query.delete('username')\n        }\n        if(email.trim() && type === 'email'){\n            query.set('email', email.trim())\n        }else{\n            query.delete('email')\n        }\n        if(address.trim() && type === 'address'){\n            query.set('address', address.trim())\n        }else{\n            query.delete('address')\n        }\n        if(phone.trim() && type === 'phone'){\n            query.set('phone', phone.trim())\n        }else{\n            query.delete('phone')\n        }\n        pushQueryStringToUrl(query)\n    }\n\n    // hanlde when click filter button\n    const onSearchUser = () => {\n        if(name.trim()){\n            query.set('username', name.trim())\n        }\n        if(email.trim()){\n            query.set('email', email.trim())\n        }\n        if(address.trim()){\n            query.set('address', address.trim())\n        }\n        if(phone.trim()){\n            query.set('phone', phone.trim())\n        }\n        if(createdAt){\n            const createdAtFormat = createdAt.format(dateFormat)\n            query.set('created_at', createdAtFormat)\n        }\n        if(name.trim() || email.trim() || address.trim() || phone.trim() || createdAt){\n            pushQueryStringToUrl(query)\n        }\n    }\n\n    // if clear filter, create a new instance of 'URLSearchParams' with no query param\n    const onClearFilter = () => {\n        const query = new URLSearchParams() \n        pushQueryStringToUrl(query)\n    }\n\n    return (\n        <div className='user-filter'>\n            <Row>\n                <Col xs={{span: 24}} lg={{span: 6}} className='search-column'><Input placeholder='Search name' value={name} onChange={(e) => {onChangeInput(e, 'name')}} onPressEnter={(e) => {onPressEnterInput(e, 'name')}}/></Col>\n                <Col xs={{span: 24}} lg={{span: 6}} className='search-column'><Input placeholder='Search email' value={email} onChange={(e) => {onChangeInput(e, 'email')}} onPressEnter={(e) => {onPressEnterInput(e, 'email')}}/></Col>\n                <Col xs={{span: 24}} lg={{span: 6}} className='search-column'><Input placeholder='Search address' value={address} onChange={(e) => {onChangeInput(e, 'address')}} onPressEnter={(e) => {onPressEnterInput(e, 'address')}}/></Col>\n                <Col xs={{span: 24}} lg={{span: 6}} className='search-column'><Input placeholder='Search phone' value={phone} onChange={(e) => {onChangeInput(e, 'phone')}} onPressEnter={(e) => {onPressEnterInput(e, 'phone')}}/></Col>\n            </Row>\n            <Col span={24} className='devide-column'></Col>\n            <Row>\n                <Col xs={{span: 24}} lg={{span: 6}} className='search-column'><DatePicker style={{ width: '100%' }} format={dateFormat} value={createdAt} onChange={onChangeCreatedAt}/></Col>\n                <Col xs={{span: 12}} lg={{span: 6}} className='search-button'>\n                    <Button style={{width: '100%' }} type='primary' icon={<SearchOutlined />} onClick={onSearchUser}>\n                        Search\n                    </Button>\n                </Col>\n                <Col xs={{span: 12}} lg={{span: 6}} className='clear-button'>\n                    <Button style={{width: '100%'}} onClick={onClearFilter}>\n                        Clear\n                    </Button>\n                </Col>\n            </Row>\n        </div>\n    )\n}","import {Table, Space, Popconfirm, Tooltip, Avatar, Image} from 'antd'\nimport {Link, useHistory} from 'react-router-dom'\nimport moment from 'moment'\nimport {EditOutlined, DeleteOutlined} from '@ant-design/icons'\nimport {useEffect, useState} from 'react'\nimport {useAuth} from '../.././components/Auth'\n\nexport function UserTable(props){\n  const history = useHistory()\n  const auth = useAuth()\n  const apiDomain = process.env.REACT_APP_API\n  const [status, setStatus] = useState([])\n  const {users, page, pageSize, total, loading, param, removeUser, onFilterUser} = props\n  const query = new URLSearchParams(param)\n\n  // push query params to url and set state of parent's params\n  const pushQueryStringToUrl = (query) => {\n    const result = '?' + query.toString()\n    history.push({\n        pathname: '/user',\n        search: result\n    })\n    onFilterUser(result)\n  }\n\n  const onChange = (pagination) => {\n    if(pagination.current !== page || pagination.pageSize !== pageSize){\n      query.set('page', pagination.current)\n      query.set('page_size', pagination.pageSize)\n      pushQueryStringToUrl(query)\n    }\n  }\n\n  useEffect(() => {\n    auth.socket.on('online', function(data){\n      setStatus(data)\n    })\n    auth.socket.on('offline', function(data){\n      setStatus(data)\n    }) \n  }, [auth.socket])\n\n  const columns = [\n    {\n      title: 'Avatar',\n      dataIndex: 'avatar',\n      key: 'avatar',\n      responsive: ['lg'],\n      render: (text, record) => (\n        <Avatar src={<Image src={`${apiDomain}/images/${record.avatar}`}/>}/>\n      ),\n      width: '5%'\n    },\n    {\n      title: 'Username',\n      dataIndex: 'username',\n      key: 'username',\n      responsive: ['lg'],\n      sorter: (a, b) => a.username.localeCompare(b.username),\n      render: (text, record) => (\n        <>\n          <Space>\n            {status.includes(record._id) ? \n              <Tooltip placement='topRight' title='Online'>\n                <div style={{width: 7, height: 7, background: '#87d068', borderRadius: '50%'}}></div>\n              </Tooltip>\n                  :\n              <Tooltip placement='topRight' title='Offline'>\n                <div style={{width: 7, height: 7, background: '#f50', borderRadius: '50%'}}></div>\n              </Tooltip>\n            }\n            <Link to={`user/profile/${record._id}`}>\n              <Tooltip placement='topRight' title='View Profile'>\n                {text}\n              </Tooltip>  \n            </Link>\n          </Space>\n        </>\n      ),\n      width: '20%'\n    },\n    {\n      title: 'Age',\n      dataIndex: 'age',\n      key: 'age',\n      responsive: ['lg'],\n      width: '10%',\n      sorter: (a, b) => a.age - b.age\n    },\n    {\n      title: 'Address',\n      dataIndex: 'address',\n      key: 'address',\n      responsive: ['lg'],\n      width: '20%'\n    },\n    {\n      title: 'Email',\n      key: 'email',\n      dataIndex: 'email',\n      width: '15%'\n    },\n    {\n      title: 'Phone',\n      key: 'phone',\n      responsive: ['lg'],\n      dataIndex: 'phone',\n      width: '10%'\n    },\n    {\n      title: 'Created At',\n      key: 'created_at',\n      responsive: ['lg'],\n      dataIndex: 'createdAt',\n      width: '15%',\n      sorter: (a, b) => moment(a.createdAt).unix() - moment(b.createdAt).unix(),\n      render: text => <>{moment(text, 'YYYY-MM-DD').format('DD-MM-YYYY')}</>\n    },\n    {\n      title: 'Action',\n      key: 'action',\n      width: '5%',\n      render: (text, record) => (\n        <Space size='middle'>\n          <Link to={`user/${record._id}`}>\n            <Tooltip placement='topRight' title='Edit Profile'>\n              <EditOutlined />\n            </Tooltip>\n          </Link>\n          <Popconfirm title='Sure to delete?' onConfirm={(id) => removeUser(record._id)}>\n            <Link to={'#'}>\n              <Tooltip placement='topRight' title='Remove User'>\n                <DeleteOutlined />\n              </Tooltip>\n              </Link>\n          </Popconfirm>\n        </Space>\n      )\n    }\n  ]\n  \n  return (\n    <Table\n        loading={loading}\n        style={{paddingLeft: 10, paddingRight: 10}}\n        columns={columns} \n        dataSource={users} \n        rowKey={record => record._id}\n        onChange={onChange}\n        pagination={{current: page, pageSize: pageSize, total: total, showSizeChanger: true}}\n    />\n  )\n}","import './User.css'\nimport {useState, useEffect} from 'react'\nimport {SideBar} from '../../components/Sidebar'\nimport {UserFilter} from './UserFilter'\nimport {UserTable} from './UserTable'\nimport {useAuth} from '../.././components/Auth'\nimport {useHistory} from \"react-router-dom\"\nimport {notification} from 'antd'\n\nexport function User() {\n  const auth = useAuth()\n  const history = useHistory()\n  const [loading, setLoading] = useState(true)\n  const [users, setUsers] = useState([])\n  const [total, setTotal] = useState(0)\n  const [page, setPage] = useState(1)\n  const [pageSize, setPageSize] = useState(10)\n  const [param, setParam] = useState(window.location.search)\n\n  const listenToPopstate = () => {\n    // when browser back or next, run this function to set query url\n    setParam(window.location.search)\n  }\n  \n  useEffect(() => {\n    window.addEventListener('popstate', listenToPopstate)\n    return () => window.removeEventListener('popstate', listenToPopstate)\n  }, [])\n  \n  useEffect(() => { \n    setLoading(true)\n    auth.paginate(param, (res) => {\n      setLoading(false)\n      setUsers(res.data.users)\n      setTotal(res.data.total)\n      setPage(res.data.page)\n      setPageSize(res.data.page_size)\n    }, (error) => {\n      auth.handleError(error, history)\n    })\n  }, [param, auth, history])\n\n  const onFilterUser = value => {\n    setParam(value)\n  }\n\n  const removeUser = (id) => {\n    auth.remove(id, (res_remove) => {\n      setLoading(true)\n      notification['success']({\n        message: res_remove.data.message\n      })\n      auth.paginate(param, (res) => {\n        setLoading(false)\n        setUsers(res.data.users)\n        setTotal(res.data.total)\n        setPage(res.data.page)\n        setPageSize(res.data.page_size)\n      }, (error) => {\n        auth.handleError(error, history)\n      })\n    }, (error_remove) => {\n      auth.handleError(error_remove, history)\n    })\n  }\n\n  return (\n    <SideBar>\n      <UserFilter onFilterUser={onFilterUser} param={param}/>\n      <UserTable \n        loading={loading}\n        users={users}\n        total={total}\n        page={page}\n        pageSize={pageSize}\n        param={param}\n        removeUser={removeUser}\n        onFilterUser={onFilterUser}\n      >    \n      </UserTable>\n    </SideBar>\n  )\n}","import {Form, Input, Button, Upload, Radio, InputNumber, Space, DatePicker, notification} from 'antd'\nimport {UploadOutlined, MinusCircleOutlined, PlusOutlined} from '@ant-design/icons'\nimport {useAuth} from '../.././components/Auth'\nimport {useHistory, useLocation} from 'react-router-dom'\nimport moment from 'moment'\n\nexport function CreatedUser() {\n    const auth = useAuth()\n    let history = useHistory()\n    let location = useLocation()\n    const [form] = Form.useForm()\n  \n    const handleSubmit = (values) => {\n        let { from } = location.state || { from: { pathname: '/login' } }\n        const {email, password, age, phone, address, username, gender, avatar, birthday, hobbies} = values\n        const formData = new FormData()\n        if(email) formData.append('email', email)\n        if(password) formData.append('password', password)\n        if(age) formData.append('age', age)\n        if(phone) formData.append('phone', phone)\n        if(address) formData.append('address', address)\n        if(username) formData.append('username', username)\n        if(gender) formData.append('gender', gender)\n        if(avatar) formData.append('avatar', avatar[0])\n        if(hobbies && hobbies.length){\n            hobbies.forEach((item) => formData.append('hobbies[]', item))\n        }\n        if(birthday instanceof moment){\n            formData.append('birthday', birthday.format())\n        }\n        auth.signup(formData, (res) => {\n            notification['success']({\n                message: res.data.message\n            })\n            history.replace(from)\n        }, (error) => {\n            auth.handleError(error, history)\n        })\n    }\n\n    const onReset = () => {\n        form.resetFields()\n    }\n\n    const props = {\n        onRemove: () => {\n            form.setFieldsValue({avatar: []})\n        },\n        beforeUpload(file){\n            const reader = new FileReader()\n            reader.readAsDataURL(file)\n            reader.onload = () => {\n                file.url = reader.result\n                form.setFieldsValue({avatar: [file]})\n            }\n            return false\n        },\n        listType: 'picture',\n        maxCount: 1\n      }\n\n    const onChangeGender = (e) => {\n        form.setFieldsValue({gender: e.target.value})\n    }\n\n    const options = [\n        {label: 'Male', value: 'male'},\n        {label: 'Female', value: 'female'},\n        {label: 'Other', value: 'other'}\n    ]\n\n    const formItemLayout = {\n        labelCol: {\n            xs: {span: 12},\n            lg: {span: 8}\n        },\n        wrapperCol: {\n            xs: {span: 12},\n            lg: {span: 8}\n        }\n    }\n\n    const formItemLayoutWithOutLabel = {\n        wrapperCol: {\n            xs: {span: 8},\n            sm: {span: 8, offset: 8}\n        }\n    }\n\nreturn (\n    <>\n        <h1 style={{textAlign: 'center', margin: '50px 0px 10px 0px'}}>Create your account</h1>\n        <Form\n            {...formItemLayout}\n            form={form}\n            name='basic'\n            onFinish={handleSubmit}\n            style={{padding: 10}}\n        >\n            <Form.Item\n                label='Username'\n                name='username'\n                rules={[\n                    { required: true, message: 'Please input your name!' }\n                ]}\n            >\n                <Input/>\n            </Form.Item>\n\n            <Form.Item\n                label='Email'\n                name='email'\n                rules={[{ required: true, message: 'Please input your email!' }]}\n            >\n                <Input/>\n            </Form.Item>\n\n            <Form.Item\n                label='Password'\n                name='password'\n                rules={[{ required: true, message: 'Please input your password!' }]}\n            >\n                <Input.Password/>\n            </Form.Item>\n\n            <Form.Item\n                label='Avatar'\n                name='avatar'\n                valuePropName='fileList'\n                getValueFromEvent={() => {}}\n            >\n                <Upload\n                    {...props}\n                >\n                    <Button icon={<UploadOutlined />}>Upload avatar</Button>\n                </Upload>\n            </Form.Item>\n\n            <Form.Item\n                label='Gender'\n                name='gender'\n                initialValue={'other'}\n            >\n                <Radio.Group options={options} onChange={onChangeGender}/>\n            </Form.Item>\n\n            <Form.Item\n                label='Age'\n                name='age'\n                rules={[{ type: 'number', min: 0, max: 99 }]}\n            >\n                <InputNumber/>\n            </Form.Item>\n\n            <Form.Item \n                label='Birthday'\n                name='birthday'\n            >\n                <DatePicker format={'DD-MM-YYYY'}/>\n            </Form.Item>\n\n            <Form.Item\n                label='Address'\n                name='address'\n            >\n                <Input/>\n            </Form.Item>\n\n            <Form.Item\n                label='Phone'\n                name='phone'\n            >\n                <Input/>\n            </Form.Item>\n\n            <Form.List\n                name='hobbies'\n            >\n                {(fields, { add, remove }, { errors }) => (\n                <>\n                    <Form.Item {...formItemLayout} label='Hobbies'>\n                        <Button\n                            type='dashed'\n                            onClick={() => add()}\n                            style={{ width: '60%' }}\n                            icon={<PlusOutlined />}\n                        >\n                            Add your hobby\n                        </Button>\n                    </Form.Item>\n                    {fields.map((field, index) => (\n                        <Form.Item\n                            {...formItemLayoutWithOutLabel}\n                            key={field.key}\n                        >\n                            <Form.Item\n                                {...field}\n                                rules={[\n                                    { max: 10, message: 'Your hobby max 50 characters'},\n                                    { required: true, message: 'Please input your hobby!' }\n                                ]}\n                                noStyle\n                            >\n                            <Input style={{ width: '60%' }} />\n                            </Form.Item>\n                            <MinusCircleOutlined\n                                className='dynamic-delete-button'\n                                onClick={() => remove(field.name)}\n                            />\n                        </Form.Item>\n                    ))}\n                </>\n                )}\n            </Form.List>\n\n            <Form.Item {...formItemLayoutWithOutLabel}>\n                <Space>\n                    <Button type='primary' htmlType='submit'>\n                        Signup\n                    </Button>\n                    <Button htmlType='button' onClick={onReset}>\n                        Reset\n                    </Button>\n                </Space>\n            </Form.Item>\n        </Form>\n    </>\n    )\n}","import {Descriptions, Image, Tag} from 'antd'\nimport {SideBar} from '../../components/Sidebar'\nimport {useParams} from 'react-router-dom'\nimport {useState, useEffect} from 'react'\nimport {useAuth} from '../.././components/Auth'\nimport moment from 'moment'\nimport {useHistory} from 'react-router-dom'\n\nexport function UserDetail(){\n    const auth = useAuth()\n    const apiDomain = process.env.REACT_APP_API\n    const history = useHistory()\n    const [user, setUser] = useState('')\n    const [avatar, setAvatar] = useState('')\n    const {id} = useParams('')\n\n    useEffect(() => { \n        auth.detail(id, (res) => {\n          setUser(res.data.user)\n          if(res.data.user.avatar){\n            setAvatar(`${apiDomain}/images/${res.data.user.avatar}`)\n          }\n        }, (error) => {\n            auth.handleError(error, history)\n        })\n    }, [auth, apiDomain, id, history])\n\n    return (\n        <SideBar>\n            <Descriptions title={`${user.username}'s Profile`} column={1} style={{padding: 15}} bordered={true}>\n            <Descriptions.Item label='Avatar'>\n                <Image\n                    width={100}\n                    src={avatar}\n                />\n            </Descriptions.Item>\n            <Descriptions.Item label='Username'>{user.username}</Descriptions.Item>\n            <Descriptions.Item label='Phone'>{user.phone}</Descriptions.Item>\n            <Descriptions.Item label='Adress'>{user.address}</Descriptions.Item>\n            <Descriptions.Item label='Email'>{user.email}</Descriptions.Item>\n            <Descriptions.Item label='Age'>{user.age}</Descriptions.Item>\n            <Descriptions.Item label='Gender'>{user.gender}</Descriptions.Item>\n            <Descriptions.Item label='Birthday'>{moment(user.birthday).format('DD-MM-YYYY')}</Descriptions.Item>\n            <Descriptions.Item label='Hobbies'>\n                {user.hobbies && user.hobbies.map(tag => {\n                    return (\n                        <Tag color={'geekblue'} key={tag}>\n                            {tag.toUpperCase()}\n                        </Tag>\n                    )\n                })}\n            </Descriptions.Item>\n            </Descriptions>\n        </SideBar>\n    )\n}","import './User.css'\nimport React, {useEffect, useState} from 'react'\nimport {Form, Input, Button, Upload, Radio, InputNumber, DatePicker, Space, notification} from 'antd'\nimport {UploadOutlined, MinusCircleOutlined, PlusOutlined} from '@ant-design/icons'\nimport {useAuth} from '../.././components/Auth'\nimport {SideBar} from '../../components/Sidebar'\nimport {useParams, useHistory} from 'react-router-dom'\nimport moment from 'moment'\n\nexport function UpdatedUser() {\n    const {id} = useParams()\n    const auth = useAuth()\n    const apiDomain = process.env.REACT_APP_API\n    const history = useHistory()\n    const [user, setUser] = useState({})\n    const [loading, setLoading] = useState(false)\n    const [form] = Form.useForm()\n    \n    useEffect(() => { \n        auth.detail(id, (res) => {\n            setUser(res.data.user)\n            form.setFieldsValue({\n                username: res.data.user.username,\n                email: res.data.user.email,\n                age: res.data.user.age,\n                birthday: res.data.user.birthday ? moment(res.data.user.birthday, 'DD-MM-YYYY') : undefined,\n                hobbies: res.data.user.hobbies,\n                phone: res.data.user.phone,\n                address: res.data.user.address,\n                gender: res.data.user.gender ? res.data.user.gender : 'other',\n                avatar: res.data.user.avatar ? [{\n                    uid: '-1',\n                    name: res.data.user.avatar,\n                    status: 'done',\n                    url: `${apiDomain}/images/${res.data.user.avatar}`\n                    }] : [{\n                        uid: '-1',\n                        status: 'done',\n                        name: 'choose file to upload'\n                }]\n            })\n        })\n    }, [auth, apiDomain, id, form])\n\n    useEffect(() => {\n        if(loading){\n            const formData = new FormData()\n            const {email, age, phone, address, username, gender, avatar, birthday, hobbies} = form.getFieldsValue()\n            formData.append('phone', phone)\n            formData.append('address', address)\n            formData.append('username', username)\n            formData.append('email', email)\n            formData.append('gender', gender)\n            if(age !== null){\n                formData.append('age', age)\n            }else{\n                formData.append('age', '')\n            }\n            if(hobbies && hobbies.length){\n                hobbies.forEach((item) => formData.append('hobbies[]', item))\n            }\n            if(birthday instanceof moment){\n                formData.append('birthday', birthday.format())\n            }\n            if(!avatar){\n                formData.append('default_avatar', true)\n            }else{\n                if(avatar[0] instanceof File){\n                    formData.append('avatar', avatar[0])\n                }\n            }\n            auth.update(id, formData, (res) => {\n                setLoading(false)\n                notification['success']({\n                    message: res.data.message\n                })\n            }, (error) => {\n                setLoading(false)\n                auth.handleError(error, history)\n            })\n        }\n    }, [auth, history, id, loading, form])\n  \n    const handleSubmit = () => {\n        setLoading(true)\n    }\n\n    const onReset = () => {\n        form.setFieldsValue({\n            username: user.username,\n            email: user.email,\n            age: user.age,\n            birthday: user.birthday ? moment(user.birthday, 'DD-MM-YYYY') : undefined,\n            hobbies: user.hobbies,\n            phone: user.phone,\n            address: user.address,\n            gender: user.gender ? user.gender : 'other',\n            avatar: user.avatar ? [{\n                uid: '-1',\n                name: user.avatar,\n                status: 'done',\n                url: `${apiDomain}/images/${user.avatar}`\n                }] : [{\n                    uid: '-1',\n                    status: 'done',\n                    name: 'choose file to upload'\n            }]\n        })\n    }\n\n    const props = {\n        onRemove: () => {\n            form.setFieldsValue({avatar: []})\n        },\n        beforeUpload(file){\n            const reader = new FileReader()\n            reader.readAsDataURL(file)\n            reader.onload = () => {\n                file.url = reader.result\n                form.setFieldsValue({avatar: [file]})\n            }\n            return false\n        },\n        listType: 'picture',\n        maxCount: 1,\n    }\n\n    const onChangeGender = (e) => {\n        form.setFieldsValue({gender: e.target.value})\n    }\n\n    const options = [\n        {label: 'Male', value: 'male'},\n        {label: 'Female', value: 'female'},\n        {label: 'Other', value: 'other'}\n    ]\n\n    const formItemLayout = {\n        labelCol: {\n            xs: {span: 12},\n            lg: {span: 8}\n        },\n        wrapperCol: {\n            xs: {span: 12},\n            lg: {span: 8}\n        }\n    }\n\n    const formItemLayoutWithOutLabel = {\n        wrapperCol: {\n            xs: {span: 8},\n            sm: {span: 8, offset: 8 }\n        }\n    }\n\nreturn (\n    <SideBar>\n        <h1 style={{textAlign: 'center', margin: '15px 0px 20px 0px'}}>Update your account</h1>\n        <Form\n            {...formItemLayout}\n            form={form}\n            name='basic'\n            onFinish={handleSubmit}\n        >\n            <Form.Item\n                label='Username'\n                name='username'\n                rules={[\n                    {required: true, message: 'Please input your name!'},\n                ]}\n            >\n                <Input/>\n            </Form.Item>\n\n            <Form.Item\n                label='Email'\n                name='email'\n                rules={[{required: true, message: 'Please input your email!'}]}\n            >\n                <Input/>\n            </Form.Item>\n\n            <Form.Item\n                label='Avatar'\n                name='avatar'\n                valuePropName='fileList'\n                getValueFromEvent={() => {}}\n            >\n                <Upload {...props}>\n                    <Button icon={<UploadOutlined />}>Upload avatar</Button>\n                </Upload>\n            </Form.Item>\n\n            <Form.Item\n                label='Gender'\n                name='gender'\n            >\n                <Radio.Group options={options} onChange={onChangeGender}/>\n            </Form.Item>\n\n            <Form.Item \n                label='Birthday'\n                name='birthday'\n            >\n                <DatePicker format={'DD-MM-YYYY'}/>\n            </Form.Item>\n\n            <Form.Item\n                label='Age'\n                name='age'\n                rules={[{type: 'number', min: 0, max: 99}]}\n            >\n                <InputNumber/>\n            </Form.Item>\n\n            <Form.Item\n                label='Address'\n                name='address'\n            >\n                <Input/>\n            </Form.Item>\n\n            <Form.Item\n                label='Phone'\n                name='phone'\n            >\n                <Input/>\n            </Form.Item>\n\n            <Form.List\n                name='hobbies'\n            >\n                {(fields, { add, remove }, { errors }) => (\n                <>\n                    <Form.Item {...formItemLayout} label='Hobbies'>\n                        <Button\n                            type='dashed'\n                            onClick={() => add()}\n                            style={{width: '60%'}}\n                            icon={<PlusOutlined />}\n                        >\n                            Add your hobby\n                        </Button>\n                    </Form.Item>\n                    {fields.map((field, index) => (\n                        <Form.Item\n                            {...formItemLayoutWithOutLabel}\n                            key={field.key}\n                        >\n                            <Form.Item\n                                {...field}\n                                rules={[\n                                    {max: 10, message: 'Your hobby max 50 characters'},\n                                    {required: true, message: 'Please input your hobby!'}\n                                ]}\n                                noStyle\n                            >\n                            <Input style={{width: '60%'}} />\n                            </Form.Item>\n                            <MinusCircleOutlined\n                                className='dynamic-delete-button'\n                                onClick={() => remove(field.name)}\n                            />\n                        </Form.Item>\n                    ))}\n                </>\n                )}\n            </Form.List>\n\n            <Form.Item {...formItemLayoutWithOutLabel}>\n                <Space>\n                    <Button type='primary' htmlType='submit'\n                        loading={loading}\n                    >\n                        Update\n                    </Button>\n                    <Button htmlType='button' onClick={onReset}>\n                        Reset\n                    </Button>\n                </Space>\n            </Form.Item>\n        </Form>\n    </SideBar>\n    )\n}","import {Form, Input, Button, notification} from 'antd'\nimport {useAuth} from '../.././components/Auth'\nimport {MailOutlined} from '@ant-design/icons'\nimport {useHistory} from 'react-router-dom'\nimport {useEffect, useState} from 'react'\n\nexport function ForgotPassword() {\n  const auth = useAuth()\n  const history = useHistory()\n  const [form] = Form.useForm()\n  const [loading, setLoading] = useState(false)\n\n  useEffect(() => {\n    if(loading){\n      const email = form.getFieldValue('email')\n      auth.sendPasswordResetEmail(email, (res) => {\n        setLoading(false)\n        notification['success']({\n            message: res.data.message\n        })\n      }, (error) => {\n        setLoading(false)\n          auth.handleError(error, history)\n      })\n    }\n  }, [loading, auth, history, form])\n\n  const handleSubmit = () => {\n    setLoading(true)\n  }\n\n  return (\n    <Form\n      form={form}\n      name='normal_login'\n      className='login-form'\n      onFinish={handleSubmit}\n    >\n      <Form.Item>\n        <h2 className='text-center'>Forgot Password?</h2>\n        <p className='text-center'>You can reset your password here.</p>\n      </Form.Item>\n      <Form.Item\n        name='email'\n        rules={[{ required: true, message: 'Please input your email!' }]}\n      >\n        <Input prefix={<MailOutlined className='site-form-item-icon' />} placeholder='Email address' />\n      </Form.Item>\n\n      <Form.Item>\n        <Button type='primary' htmlType='submit' className='login-form-button' loading={loading}>\n          Reset Password\n        </Button>\n      </Form.Item>\n    </Form>\n  )\n}","import {useParams} from 'react-router-dom'\nimport {useAuth} from '../.././components/Auth'\nimport {Form, Button, Input, notification} from 'antd'\nimport {LockOutlined} from '@ant-design/icons'\nimport {useHistory} from 'react-router-dom'\nimport {useEffect, useState} from 'react'\nimport jwt_decode from 'jwt-decode'\n\nexport function ResetPassword(){\n  const auth = useAuth()\n  const history = useHistory()\n  const [form] = Form.useForm()\n  const {token} = useParams('')\n  const [loading, setLoading] = useState(false)\n\n  try {\n    var decodeToken = jwt_decode(token)\n  } catch (error) {\n    history.replace('/404')\n  }\n\n  useEffect(() => {\n    if(loading){\n      const password = form.getFieldValue('password')\n      auth.confirmPasswordReset(token, password, (res) => {\n        setLoading(false)\n        notification['success']({\n            message: res.data.message\n        })\n      }, (error) => {\n        setLoading(false)\n        auth.handleError(error, history)\n      })\n    }\n  }, [loading, auth, history, form, token])\n\n  const handleSubmit = () => {\n    setLoading(true)\n  }\n\n  return (\n    <Form\n      form={form}\n      name='normal_login'\n      className='login-form'\n      onFinish={handleSubmit}\n    >\n      <Form.Item>\n        <h1 style={{fontSize: 24, fontWeight: 300, letterSpacing: -0.5, textAlign: 'center'}}>Change password for {decodeToken ? decodeToken.username : ''}</h1>\n      </Form.Item>\n\n      <Form.Item\n        name='password'\n        rules={[{required: true, message: 'Please input your password!'}]}\n      >\n        <Input.Password \n          prefix={<LockOutlined className='site-form-item-icon'/>}\n          type='password'\n          placeholder='Password'\n        />\n      </Form.Item>\n\n      <Form.Item\n        name='password-confirm'\n        rules={[\n          {\n            required: true,\n            message: 'Please confirm your password!',\n          },\n          ({ getFieldValue }) => ({\n            validator(_, value) {\n              if (!value || getFieldValue('password') === value) {\n                return Promise.resolve();\n              }\n              return Promise.reject(new Error('The two passwords that you entered do not match!'));\n            },\n          }),\n        ]}\n      >\n        <Input.Password \n          prefix={<LockOutlined className='site-form-item-icon'/>}\n          type='password'\n          placeholder='Confirm password'\n        />\n      </Form.Item>\n\n      <Form.Item>\n        <Button type='primary' htmlType='submit' className='login-form-button' loading={loading}>\n          Reset Password\n        </Button>\n      </Form.Item>\n    </Form>\n  )\n}","import {SideBar} from '../../components/Sidebar'\nimport {Button, Upload, notification} from 'antd'\nimport {UploadOutlined} from '@ant-design/icons'\n\nexport function Setting(){\n    const apiDomain = process.env.REACT_APP_API\n    const props = {\n        name: 'avatar',\n        action: `${apiDomain}/api/setting/upload-default-avatar`,\n        headers: {\n            'Authorization': `Bearer ${localStorage.getItem('token')}`\n        },\n        onChange(info) {\n          if (info.file.status === 'done') {\n            notification['success']({\n                message: `${info.file.name} file uploaded successfully`\n            })\n            setTimeout(() => {\n                window.location.reload()\n            }, 2000)\n          } else if (info.file.status === 'error') {\n            notification['error']({\n                message: `${info.file.name} file upload failed`\n            })\n          }\n        },\n      }\n    return (\n        <SideBar>\n            <Upload {...props} listType='picture-card' fileList={[{\n                url: `${apiDomain}/images/default_avatar.jpeg`\n            }]}>\n                <Button icon={<UploadOutlined />}>Upload default avatar</Button>\n            </Upload>\n        </SideBar>\n        )\n}","import {Launcher} from 'react-chat-window'\nimport {Descriptions, Image, Tabs, Tag, List} from 'antd'\nimport moment from 'moment'\nimport {useState, useEffect} from 'react'\nimport {useAuth} from '../../components/Auth'\nimport {Link} from 'react-router-dom'\n\nconst backend = [\n    'Api: Create, update, delete, detail, pagination base on MVC model',\n    'Database mongodb: Use mongoose to save user and chat message',\n    'Authentication: JWT register, login, logout, refresh token, reset password by email',\n    'Redis: Save black list token when user logout',\n    'Validator: Use Express-validator to validate data',\n    'Upload image: Use Multer to upload avatar for user when create, update profile and send image through chat',\n    'Permission: Check permision by role, default is user, Binh is admin',\n    'SocketIO: Realtime online status when user login, realtime chat messege bettwen user and admin'\n]\n\nconst frontend = [\n    'React: Use react Hook to write function component with useState, useEffect, useMemo, UseAuth',\n    'Library: Use antdesign for my project: component, icon, handle form data',\n    'Api: Use axios to get data from server',\n    'Users: Create, update, delete, detail, pagination users show online status, sorter, filter base on url: refresh page, back and next browser',\n    'Chat: User after register can only chat with admin is Binh, Binh can reply to everyone'\n]\n\nexport function UserChat(props){\n    const {TabPane} = Tabs\n    const {users} = props\n    const auth = useAuth()\n    const apiDomain = process.env.REACT_APP_API\n    const admin = users.filter(user => user.role === 'admin')[0]\n    const [messageList, setMessageList] = useState([])\n    const [status, setStatus] = useState([])\n    const [isOpen, setIsOpen] = useState(false)\n    const [senderId] = useState(JSON.parse(localStorage.getItem('user'))._id)\n    const [receiverId] = useState(admin._id)\n\n    useEffect(() => {\n        auth.socket.on('online', function(data){\n          setStatus(data)\n        })\n        auth.socket.on('offline', function(data){\n          setStatus(data)\n        }) \n      }, [auth.socket])\n\n    useEffect(() => {\n        auth.socket.on('chat', function(data){\n            if(isOpen){\n                let messageListCopy = [...messageList]\n                if(data.message_type === 'file'){\n                    messageListCopy.push({author: 'them', data: {url: `${apiDomain}/images/${data.message}`, fileName: data.message}, type: data.message_type})\n                }else{\n                    messageListCopy.push({author: 'them', data: {[data.message_type]: data.message}, type: data.message_type})\n                }\n                setMessageList(messageListCopy)\n            }else{\n                setIsOpen(true)\n            }\n        })\n    }, [auth.socket, apiDomain, isOpen, messageList])\n\n    useEffect(() => { \n        if(isOpen){\n            auth.chat(`?sender=${senderId}&receiver=${receiverId}`, (res) => {\n                const chats = []\n                for(let i = 0; i < res.data.chats.length; i++){\n                    if(res.data.chats[i].message_type === 'file'){\n                        if(res.data.chats[i].sender === senderId){\n                            chats.push({author: 'me', data: {url: `${apiDomain}/images/${res.data.chats[i].message}`, fileName: res.data.chats[i].message}, type: res.data.chats[i].message_type}) \n                        }else{\n                            chats.push({author: 'them', data: {url: `${apiDomain}images/${res.data.chats[i].message}`, fileName: res.data.chats[i].message}, type: res.data.chats[i].message_type})\n                        }   \n                    }else{\n                        if(res.data.chats[i].sender === senderId){\n                            chats.push({author: 'me', data: {[res.data.chats[i].message_type]: res.data.chats[i].message}, type: res.data.chats[i].message_type})\n                        }else{\n                            chats.push({author: 'them', data: {[res.data.chats[i].message_type]: res.data.chats[i].message}, type: res.data.chats[i].message_type})\n                        }\n                    }\n                }\n                setMessageList(chats)\n            })\n        }\n    }, [auth, apiDomain, isOpen, senderId, receiverId])\n\n    const onMessageWasSent = (newMessage) => {\n        if(senderId && receiverId){\n            let messageListCopy = [...messageList]\n            messageListCopy.push(newMessage)\n            setMessageList(messageListCopy)\n            if(newMessage.type === 'text'){\n                auth.socket.emit('chat', {sender: senderId, receiver: receiverId, message: newMessage.data.text, type: 'text'})\n            }else if(newMessage.type === 'emoji'){\n                auth.socket.emit('chat', {sender: senderId, receiver: receiverId, message: newMessage.data.emoji, type: 'emoji'})\n            }else if(newMessage.type === 'file'){\n                auth.socket.emit('chat', {sender: senderId, receiver: receiverId, message: newMessage.data.fileName, type: 'file'})\n            }\n        }\n    }\n\n    const onClickChat = () => {\n        setIsOpen(!isOpen)\n    }\n\n    const onFilesSelected = (file) => {\n        const formData = new FormData()\n        formData.append('avatar', file[0])\n        formData.append('sender', senderId)\n        formData.append('receiver', receiverId)\n        formData.append('type', 'file')\n        auth.createdChat(formData, (res) => {\n            onMessageWasSent({author: 'me', type : 'file', data : {url: `${apiDomain}images/${res.data.chat.message}`, fileName: res.data.chat.message}})\n        })\n    }\n\n    return (\n        <Tabs defaultActiveKey=\"1\" type=\"card\">\n            <TabPane tab=\"Profile\" key=\"1\">\n                <Descriptions title=\"Personality\" column={1} style={{padding: 15}} bordered={true}>\n                <Descriptions.Item label=\"Avatar\">\n                    <Image\n                        width={100}\n                        src={`${apiDomain}/images/${admin.avatar}`}\n                    />\n                </Descriptions.Item>\n                <Descriptions.Item label=\"Status\">{status.includes(admin._id) ? <Tag color=\"#87d068\">Online</Tag> :  <Tag color=\"#f50\">Offline</Tag>}</Descriptions.Item>\n                <Descriptions.Item label=\"Username\">{admin.username}</Descriptions.Item>\n                <Descriptions.Item label=\"Phone\">{admin.phone}</Descriptions.Item>\n                <Descriptions.Item label=\"Adress\">{admin.address}</Descriptions.Item>\n                <Descriptions.Item label=\"Email\">{admin.email}</Descriptions.Item>\n                <Descriptions.Item label=\"Age\">{admin.age}</Descriptions.Item>\n                <Descriptions.Item label=\"Gender\">{admin.gender}</Descriptions.Item>\n                <Descriptions.Item label=\"Birthday\">{moment(admin.birthday).format('DD-MM-YYYY')}</Descriptions.Item>\n                <Descriptions.Item label=\"Hobbies\">\n                    {admin.hobbies && admin.hobbies.map(tag => {\n                        return (\n                            <Tag color={'geekblue'} key={tag}>\n                                {tag.toUpperCase()}\n                            </Tag>\n                        )\n                    })}\n                </Descriptions.Item>\n                </Descriptions>\n                <Launcher\n                    agentProfile={{\n                        teamName: `Chat to ${admin.username}`,\n                        imageUrl: `${apiDomain}/images/${admin.avatar}`\n                    }}\n                    messageList={messageList}\n                    onMessageWasSent={onMessageWasSent}\n                    handleClick={() => onClickChat(admin)}\n                    isOpen={isOpen}\n                    onFilesSelected={onFilesSelected}\n                    mute={true}\n                />\n            </TabPane>\n            <TabPane tab=\"Describe Project\" key=\"2\">\n                <List\n                    size=\"large\"\n                    header={<Link to={'#'}>Backend - Nodejs Express</Link>}\n                    bordered\n                    dataSource={backend}\n                    renderItem={item => <List.Item>{item}</List.Item>}\n                />\n                <List\n                    style={{marginTop: 15}}\n                    size=\"large\"\n                    header={<Link to={'#'}>Frontend - Reactjs</Link>}\n                    bordered\n                    dataSource={frontend}\n                    renderItem={item => <List.Item>{item}</List.Item>}\n                />\n            </TabPane>\n        </Tabs>\n    )\n}","import {List, Avatar, Space} from 'antd'\nimport {Launcher} from 'react-chat-window'\nimport {Link} from 'react-router-dom'\nimport {MessageOutlined} from '@ant-design/icons'\nimport {useState, useEffect} from 'react'\nimport {useAuth} from '../../components/Auth'\n\nexport function AdminChat(props){\n    const auth = useAuth()\n    const apiDomain = process.env.REACT_APP_API\n    const {users} = props\n    const [messageList, setMessageList] = useState([])\n    const [senderId] = useState(JSON.parse(localStorage.getItem('user'))._id)\n    const [receiverId, setReceiverId] = useState('')\n    const receiver = users.filter(user => user._id === receiverId)[0]\n\n    const onClickUserToChat = (user) => {\n        if(receiverId !== user._id) setReceiverId(user._id)\n    }\n\n    useEffect(() => {\n        auth.socket.on('chat', function(data){\n            if(receiverId && data.sender === receiverId){\n                let messageListCopy = [...messageList]\n                if(data.message_type === 'file'){\n                    messageListCopy.push({author: 'them', data: {url: `${apiDomain}/images/${data.message}`, fileName: data.message}, type: data.message_type})\n                }else{\n                    messageListCopy.push({author: 'them', data: {[data.message_type]: data.message}, type: data.message_type})\n                }\n                setMessageList(messageListCopy)\n            }else{\n                setReceiverId(data.sender)\n            }\n        })\n    }, [auth.socket, apiDomain, receiverId, messageList])\n\n    useEffect(() => { \n        if(receiverId){\n            auth.chat(`?sender=${senderId}&receiver=${receiverId}`, (res) => {\n                const chats = []\n                for(let i = 0; i < res.data.chats.length; i++){\n                    if(res.data.chats[i].message_type === 'file'){\n                        if(res.data.chats[i].sender === senderId){\n                            chats.push({author: 'me', data: {url: `${apiDomain}/images/${res.data.chats[i].message}`, fileName: res.data.chats[i].message}, type: res.data.chats[i].message_type}) \n                        }else{\n                            chats.push({author: 'them', data: {url: `${apiDomain}/images/${res.data.chats[i].message}`, fileName: res.data.chats[i].message}, type: res.data.chats[i].message_type})\n                        }   \n                    }else{\n                        if(res.data.chats[i].sender === senderId){\n                            chats.push({author: 'me', data: {[res.data.chats[i].message_type]: res.data.chats[i].message}, type: res.data.chats[i].message_type})\n                        }else{\n                            chats.push({author: 'them', data: {[res.data.chats[i].message_type]: res.data.chats[i].message}, type: res.data.chats[i].message_type})\n                        }\n                    }\n                }\n                setMessageList(chats)\n            })\n        }\n    }, [auth, apiDomain, senderId, receiverId])\n  \n    const onMessageWasSent = (newMessage) => {\n        if(senderId && receiverId){\n            let messageListCopy = [...messageList]\n            messageListCopy.push(newMessage)\n            setMessageList(messageListCopy)\n            if(newMessage.type === 'text'){\n                auth.socket.emit('chat', {sender: senderId, receiver: receiverId, message: newMessage.data.text, type: 'text'})\n            }else if(newMessage.type === 'emoji'){\n                auth.socket.emit('chat', {sender: senderId, receiver: receiverId, message: newMessage.data.emoji, type: 'emoji'})\n            }else if(newMessage.type === 'file'){\n                auth.socket.emit('chat', {sender: senderId, receiver: receiverId, message: newMessage.data.fileName, type: 'file'})\n            }\n        }\n    }\n\n    const onClickChat = () => {\n        setReceiverId('')\n    }\n\n    const onFilesSelected = (file) => {\n        const formData = new FormData()\n        formData.append('avatar', file[0])\n        formData.append('sender', senderId)\n        formData.append('receiver', receiverId)\n        formData.append('type', 'file')\n        auth.createdChat(formData, (res) => {\n            onMessageWasSent({author: 'me', type : 'file', data : {url: `${apiDomain}/images/${res.data.chat.message}`, fileName: res.data.chat.message}})\n        })\n    }\n\n    return (\n        <>\n            <List\n                itemLayout=\"vertical\"\n                dataSource={users.filter(user => user.role !== 'admin')}\n                style={{paddingLeft: 20}}\n                renderItem={user => (\n                <List.Item\n                    actions={[<Space onClick={() => {onClickUserToChat(user)}}><Link to={'/#'}><MessageOutlined/><span style={{paddingLeft: 10}}>Reply</span></Link></Space>]}\n                >\n                    <List.Item.Meta\n                    avatar={<Avatar src={`${apiDomain}/images/${user.avatar}`} />}\n                    title={user.username}\n                    description={user.email}\n                    />\n                </List.Item>\n                )}\n            />\n            {receiverId &&\n                <Launcher\n                    agentProfile={{\n                        teamName: `Reply to ${receiver.username}`,\n                        imageUrl: `${apiDomain}/images/${receiver.avatar}`\n                    }}\n                    messageList={messageList}\n                    onMessageWasSent={onMessageWasSent}\n                    handleClick={() => onClickChat()}\n                    isOpen={Boolean(receiverId)}\n                    onFilesSelected={onFilesSelected}\n                    mute={true}\n                />\n            }\n        </>\n   ) \n}","\nimport {SideBar} from '.././components/Sidebar'\nimport {useState, useEffect} from 'react'\nimport {UserChat} from './Chat/UserChat'\nimport {AdminChat} from './Chat/AdminChat'\nimport {useAuth} from '../components/Auth'\nimport {Spin} from 'antd'\nimport {useHistory} from 'react-router-dom'\nimport '../index.css'\n\nexport function Index(){\n    const [users, setUsers] = useState([])\n    const [userLogin] = useState(JSON.parse(localStorage.getItem('user')))\n    const [isLoading, setIsLoading] = useState(false)\n    const auth = useAuth()\n    const history = useHistory()\n    useEffect(() => { \n        auth.index('', (res) => {\n            setUsers(res.data.users)   \n            setIsLoading(true)   \n        }, (error) => {\n            auth.handleError(error, history)\n        })\n    }, [auth, history])\n\n    return (\n        <SideBar>\n            {userLogin.role !== 'admin' && isLoading &&\n                <UserChat \n                    users={users}\n                >\n                </UserChat>\n            }\n            {userLogin.role === 'admin' && isLoading &&\n                <AdminChat\n                    users={users}\n                >\n                </AdminChat>\n            }\n            {!isLoading && \n                <div className=\"spin\">\n                    <Spin />\n                </div>\n            }\n        </SideBar>\n    )\n}","import {Result, Button} from 'antd'\n\nexport function Page404(){\n    return (\n        <Result\n            status=\"404\"\n            title=\"404\"\n            subTitle=\"Sorry, the page you visited does not exist.\"\n            extra={<Button type=\"primary\">Back Home</Button>}\n        />\n    )\n}","import {Result, Button} from 'antd'\n\nexport function Page500(){\n    return (\n        <Result\n            status=\"500\"\n            title=\"500\"\n            subTitle=\"Sorry, something went wrong.\"\n            extra={<Button type=\"primary\">Back Home</Button>}\n        />\n    )\n}","import React from 'react'\nimport {BrowserRouter as Router, Switch, Route} from 'react-router-dom'\nimport {ProvideAuth} from './components/Auth.js'\nimport {Login} from './pages/User/Login'\nimport {PrivateRoute} from './components/Protect'\nimport {User} from './pages/User/User'\nimport {CreatedUser} from './pages/User/CreatedUser'\nimport {UserDetail} from './pages/User/UserDetail'\nimport {UpdatedUser} from './pages/User/UpdatedUser'\nimport {ForgotPassword} from './pages/User/ForgotPassword'\nimport {ResetPassword} from './pages/User/ResetPassword'\nimport {Setting} from './pages/Setting/Setting'\nimport {Index} from './pages/index'\nimport {Page404} from './pages/404'\nimport {Page500} from './pages/500'\nimport {notification} from 'antd'\nnotification.config({\n  top: 80,\n  duration: 2\n})\n\nexport default function App() {\n  return (\n    <ProvideAuth>\n      <Router>\n        <Switch>\n          <Route exact path='/login'>\n            <Login/>\n          </Route>\n          <Route exact path='/signup'>\n            <CreatedUser/>\n          </Route>\n          <Route exact path='/forgot-password'>\n            <ForgotPassword/>\n          </Route>\n          <Route exact path='/reset-password/:token'>\n            <ResetPassword/>\n          </Route>\n          <PrivateRoute exact path='/'>\n            <Index/>\n          </PrivateRoute>\n          <PrivateRoute exact path='/user'>\n            <User/>\n          </PrivateRoute>\n          <PrivateRoute exact path='/user/profile/:id'>\n            <UserDetail/>\n          </PrivateRoute>\n          <PrivateRoute exact path='/user/:id'>\n            <UpdatedUser/>\n          </PrivateRoute>\n          <PrivateRoute exact path='/setting'>\n            <Setting/>\n          </PrivateRoute>\n          <Route exact path='/404'>\n            <Page404/>\n          </Route>\n          <Route exact path='/500'>\n            <Page500/>\n          </Route>\n        </Switch>\n      </Router>\n    </ProvideAuth>\n  )\n}","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport './index.css'\nimport App from './App'\nimport reportWebVitals from './reportWebVitals'\nimport 'antd/dist/antd.css'\n\nReactDOM.render(\n  <App />,\n  document.getElementById('root')\n)\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals()\n"],"sourceRoot":""}